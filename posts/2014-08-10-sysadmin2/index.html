<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>A Primer to System Administration - Know Thy System - Gradient Ascent</title><meta name=description content="A collection of commands for checking system information and performance. Tested on Ubuntu 14.04."><meta property="og:title" content="A Primer to System Administration - Know Thy System"><meta property="og:description" content="A collection of commands for checking system information and performance. Tested on Ubuntu 14.04."><meta property="og:type" content="article"><meta property="og:url" content="https://wilbeibi.com/posts/2014-08-10-sysadmin2/"><meta property="og:site_name" content="Gradient Ascent"><meta property="article:published_time" content="2014-08-10T00:00:00Z"><meta name=twitter:card content="summary"><meta name=twitter:title content="A Primer to System Administration - Know Thy System"><meta name=twitter:description content="A collection of commands for checking system information and performance. Tested on Ubuntu 14.04."><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel="shortcut icon" href=/favicon.ico><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400;1,700&family=JetBrains+Mono:wght@400;700&display=swap" rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css rel=stylesheet><link rel=canonical href=https://wilbeibi.com/posts/2014-08-10-sysadmin2/><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css></head><body><div class=container><div class=header><a href=/>wilbeibi</a>'s Gradient Ascent</div><div class=navigation><ul><li><a href=/>Home</a></li><li><a href=/posts/>Archive</a></li><li><a href=/tags/>Tags</a></li><li><a href=/pages/about/>About</a></li></ul></div><div class=body><h1>A Primer to System Administration - Know Thy System</h1><p class=date>written on August 10, 2014 · 3 min read</p><h2 id=general-information>General information</h2><ol><li><p>Use <code>uname</code> to get system information:</p><p>uname -a</p><p><code>-a</code> for print all the information.</p></li></ol><h2 id=cpu-information>CPU information</h2><ol><li><p>Use <code>nproc</code> to print the number of processing units available (GNU coreutils):</p><pre><code>$ nproc
4
</code></pre></li><li><p>Use <code>lscpu</code> to display CPU architecture information (util-linux).</p></li></ol><h2 id=disk-information>Disk information</h2><ol><li><p><code>df</code> is a powerful command for displaying system disk.</p><pre><code> df -h /path/to/directory
</code></pre></li><li><p><code>cat /proc/partitions/</code> and <code>cat /proc/mounts</code> are also pretty handly solutions to check the partitions and mount disks.</p></li></ol><h2 id=memory-information>Memory information</h2><ol><li><p>Just as same as disk, <code>cat /proc/meminfo</code> could easily check memory information (Thanks to Unix&rsquo;s <a href=http://en.wikipedia.org/wiki/Everything_is_a_file><strong>Everything is a file</strong></a> design concept).</p></li><li><p>Alternatively, you can type <code>free -m</code>, which essentially is the same as check /meminfo. <code>-m</code> for display in megabytes (as you expected, -g for gigabytes, -k for kilobytes.)</p></li></ol><h2 id=user-activity-information>User activity information</h2><ol><li><p><code>last</code> command will display user&rsquo;s info like terminal, time, date and so forth. To check one specific user&rsquo;s activity, <code>last username</code> is what you are looking for.</p></li><li><p><code>w</code> is a great but rarely know command. It will display who is logged on and what they are doing. It&rsquo;ll show username, terminal, from IP, login time, idle time, JCPU and the command line of their current process. If you never heard it before, I strongly suggest you to have a try.</p></li><li><p><code>uptime</code>: Tell how long the system has been running.</p></li><li><p><code>ps</code>: a well known command for checking current processes, for instance, to list all zombie process:</p><pre><code> ps aux | awk '{ print $8 &quot; &quot; $2 }' | grep -w Z
</code></pre><p>where <code>ps aux</code> to show processes for <strong>a</strong>ll users, the process&rsquo;s <strong>u</strong>ser, and also show the processes not attached to a terminal (check man page for more details), then awk to filter the <code>STAT</code> and PID field, use grep to select the line contains <code>Z</code>(Zombie), now we get zombie processes pids. It&rsquo;s easy to kill them by <code>kill -9 {PID}</code>.</p></li><li><p><code>top/htop</code>: Better not to use non-builtin command(for security reasons), but if you do want to, <code>htop</code> is a superior alternative to <code>top</code> &ndash; dynamically display current tasks.</p></li></ol><h2 id=network-information>Network information</h2><ol><li><p>To get your own public IP, both <code>curl icanhazip.com</code> or <code>curl ifconfig.me</code> are easy ways to do that(previous one is much faster).</p></li><li><p><code>ping</code>: Even my mother knows to use <code>ping</code> to check network connectivity.</p></li><li><p><code>ifconfig</code>: A frequently used tool to view network interface information. BTW, I wrote a <a href=https://github.com/Wilbeibi/Ifconfig-extractor>script</a> to filter IP, MAC addresses and networks from <code>ifconfig</code> (tested on Ubuntu, Fedora, OmniOS and FreeBSD).</p></li><li><p><code>lsof</code>, aka list open files, is definitely a swiss army knife for analyzing network. <code>lsof -i</code> for list all open Internet and X.25 network files. (The examples below are from Daniel Miessler&rsquo;s blog, see reference)</p><pre><code> lsof -iTCP # Show only TCP connections
 lsof -i:80 # Show networking only relate to port 80
 lsof -i@107.170.181.47 # Show connections with particular IP
 lsof -u username # Show given user's connections
 lsof -u ^username # Show connections except given user
</code></pre></li><li><p><code>ss -s</code>: display Currently Established, Closed, Orphaned and Waiting TCP sockets</p></li></ol><h2 id=you-may-also-interested-in>You may Also interested in</h2><ol><li>My previous post <a href=http://wilbeibi.com/2014/08/2014-08-08-SysAdmin/>A Primer to System Administration - Users and groups</a></li><li>If you found any grammar misusage or typos, please help me correct by <a href=https://github.com/Wilbeibi/wilbeibi_blog_src/blob/master/source/_posts/2014-08-10-SysAdmin2.md>pull request here</a>.</li></ol><h2 id=reference>Reference</h2><p><a href=http://www.douban.com/note/265207425/>nodejs 部署最佳实践 by 邻家 柠檬叔</a></p><p><a href=http://www.tecmint.com/useful-linux-commands-for-system-administrators/>30 Useful Linux Commands for System Administrators</a></p><p><a href=http://unix.stackexchange.com/questions/106847/what-does-aux-mean-in-ps-aux>What does aux mean in <code>ps aux</code>?</a></p><p><a href=http://www.cyberciti.biz/tips/killing-zombie-process.html>Killing zombie process</a></p><p><a href=http://danielmiessler.com/study/lsof/>An lsof Primer</a></p><p><a href=http://www.cyberciti.biz/faq/check-network-connection-linux/>Linux: Check Network Connection Command</a></p><div class=post-tags><a href=https://wilbeibi.com/tags/sysadmin/>Sysadmin</a></div></div><div class=footer><p>Design by <a href=https://github.com/mitsuhiko/lucumr>Armin Ronacher</a>.</p><p>Subscribe via <a href=https://wilbeibi.com/index.xml>RSS</a>.</p></div></div></body></html>