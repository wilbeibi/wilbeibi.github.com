<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>A Primer to System Administration - Users and groups - Gradient Ascent</title><meta name=description content="Just some examples, no big deal. Tested on Ubuntu 14.04."><meta property="og:title" content="A Primer to System Administration - Users and groups"><meta property="og:description" content="Just some examples, no big deal. Tested on Ubuntu 14.04."><meta property="og:type" content="article"><meta property="og:url" content="https://wilbeibi.com/posts/2014-08-08-sysadmin/"><meta property="og:site_name" content="Gradient Ascent"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2014-08-08T00:00:00Z"><meta property="article:modified_time" content="2026-02-16T16:16:06-08:00"><meta property="article:author" content="wilbeibi"><meta property="article:tag" content="Sysadmin"><meta name=twitter:card content="summary"><meta name=twitter:title content="A Primer to System Administration - Users and groups"><meta name=twitter:description content="Just some examples, no big deal. Tested on Ubuntu 14.04."><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel="shortcut icon" href=/favicon.ico><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400;1,700&family=JetBrains+Mono:wght@400;700&display=swap" rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css rel=stylesheet><link rel=canonical href=https://wilbeibi.com/posts/2014-08-08-sysadmin/><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"\"A Primer to System Administration - Users and groups\"","description":"\"Just some examples, no big deal. Tested on Ubuntu 14.04.\"","datePublished":"2014-08-08T00:00:00Z","dateModified":"2026-02-16T16:16:06-08:00","author":{"@type":"Person","name":"\"wilbeibi\"","url":"https:\/\/wilbeibi.com\/"},"publisher":{"@type":"Person","name":"\"wilbeibi\""},"mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/wilbeibi.com\/posts\/2014-08-08-sysadmin\/"},"keywords":"[\"Sysadmin\"]"}</script></head><body><div class=container><div class=header><a href=/>wilbeibi</a>'s Gradient Ascent</div><div class=navigation><ul><li><a href=/>Home</a></li><li><a href=/posts/>Archive</a></li><li><a href=/tags/>Tags</a></li><li><a href=/pages/about/>About</a></li></ul></div><div class=body><h1>A Primer to System Administration - Users and groups</h1><p class=date>written on August 08, 2014 Â· 3 min read</p><h2 id=how-to-create-a-user>How to create a user</h2><p>By useradd:</p><pre><code>useradd -m -d &lt;HomeDir&gt; -g &lt;Group&gt; username
</code></pre><p>It&rsquo;s optional to specify the new user&rsquo;s home directory and group, but I strongly suggest to do so. <code>-m</code> stands for create home, <code>-d</code> to allocate a directory. (Warning, don&rsquo;t mess up <code>useradd</code> and <code>adduser</code>, the later one is a higher level&rsquo;s implementation. Here is a <a href=http://askubuntu.com/questions/345974/what-is-the-difference-between-adduser-and-useradd>detailed explanation of these two&rsquo;s differences</a>.)</p><h2 id=how-to-create-a-group>How to create a group</h2><p>By groupadd:</p><pre><code>groupadd groupname
</code></pre><h2 id=how-to-add-a-user-to-a-group>How to add a user to a group</h2><p>By usermod:
usermod -a -G <groupname>username</p><p>where <code>usermod</code> means modify a user account, <code>-a</code> stands for append, append this user to a group.</p><p><a href=http://www.cyberciti.biz/faq/howto-linux-add-user-to-group/>Read more</a></p><h2 id=how-to-list-all-users-in-a-group>How to list all users in a group</h2><p>Well, there is not such a built-in command for that, but we can use:</p><pre><code>grep '^groupname' /etc/group
</code></pre><p>or <code>apt-get install members</code>, then</p><pre><code>members groupname
</code></pre><h2 id=what-is-sticky-bit>What is sticky bit</h2><h3 id=what-is-sticky-bit-looks-like>What is sticky bit looks like</h3><p>Sticky bit is used for directories. As wikipedia said:</p><blockquote><p>When the sticky bit is set, only the item&rsquo;s owner, the directory&rsquo;s owner, or root can rename or delete files. Without the sticky bit set, any user with write and execute permissions for the directory can rename or delete contained files, regardless of owner.</p></blockquote><p>For example, if the professor create a /homework directory with sticky bit, every student can upload their homework, but they cannot rename or delete other students&rsquo; homework.</p><h3 id=how-to-set-it>How to set it</h3><pre><code> chmod +t /path/to/directory
</code></pre><p>or</p><pre><code> chmod 1755
</code></pre><p>where 1 stands for sticky bit, 7 for owner has all privilege, 5 for read and execute privilege for the group, and for others.</p><p>Now, /path/to/directory should looks like this (replaced last character):</p><pre><code>drwxr-xr-t   1 root     other          0 Nov 10 12:57 test
</code></pre><p>As wikipedia said, if the sticky-bit is set on the directory without the execution bit set for the others category, it is indicated with a capital T:</p><pre><code>drwxr-xr-T   1 root     other          0 Nov 10 12:57 test
</code></pre><p><a href=http://www.linuxnix.com/2012/01/sticky-bit-set-linux.html>Read more &mldr;</a></p><h2 id=what-is-setuid>What is setuid</h2><p>One sentence explanation: Regardless of who runs this program, run it as the user who owns it, not the user that executes it.</p><h3 id=how-to-set-it-1>How to set it</h3><pre><code>chmod u+s /path/to/file
</code></pre><h3 id=and-it-is-dangerous>And it is dangerous</h3><p>For instance, a simple shell script <code>showfile.sh</code> has set setuid as root privilege:</p><pre><code> #!/bin/sh
 # showfile
 ls -l | sort
</code></pre><p>And If I am a bad guy, I could easily write script :</p><pre><code> rm -rf /some/where/important
</code></pre><p>and saved as name <code>ls</code>, add my <code>ls</code> to the front of $PATH. Now when I tried to run showfile.sh, Boom ! The files are deleted.</p><h2 id=btw>BTW</h2><p>If you found grammar errors or typos, please feel free to help me <a href=https://github.com/Wilbeibi/wilbeibi_blog_src/edit/master/source/_posts/2014-08-08-SysAdmin.md>correct it</a>.</p><div class=post-tags><a href=https://wilbeibi.com/tags/sysadmin/>Sysadmin</a></div></div><div class=footer><p>Design by <a href=https://github.com/mitsuhiko/lucumr>Armin Ronacher</a>.</p><p>Subscribe via <a href=https://wilbeibi.com/index.xml>RSS</a>.</p></div></div></body></html>